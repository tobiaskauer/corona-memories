{"remainingRequest":"/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/corona-memories/client/src/components/memoryForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/corona-memories/client/src/components/memoryForm.vue","mtime":1614888646600},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNZW1vcnlTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvbWVtb3J5U2VydmljZScKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVtb3J5OiAnYWJjMTIzJywKICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG5hbWU6ICcnLAogICAgfQogIH0sCgogIHByb3BzOiB7CiAgICBjb3VudHJ5OiBTdHJpbmcsCiAgICBkYXRlOiBTdHJpbmcsCiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgc2VuZE1lbW9yeSAoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKCiAgICAgIGxldCBwYXlsb2FkID0gewogICAgICAgIGNvbW1lbnQ6IHRoaXMubWVtb3J5LAogICAgICAgIGRhdGU6IG5ldyBEYXRlKHRoaXMuZGF0ZSksCiAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgIGNvdW50cnk6IHRoaXMuY291bnRyeSwKICAgICAgICBpZDogbnVsbCwKICAgICAgfSAgICAgIAogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgTWVtb3J5U2VydmljZS5zZW5kTWVtb3J5KHBheWxvYWQpCiAgICAgICAgCiAgICAgICAgaWYocmVzcG9uc2UpIHRoaXMubG9hZGluZz1mYWxzZQogICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHRoaXMuc3RhdHVzID0gIllvdXIgbWVtb3J5IGhhcyBiZWVuIHJlY29yZGVkIgogICAgICAgIH0KCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHRoaXMuc3RhdHVzID0gZXJyLnJlc3BvbnNlLmRhdGEuZXJyb3IKICAgICAgfQogICAgfSwKCiAgICBjbG9zZTogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuc3RhdHVzID0gZmFsc2UKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKQogICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXR1cykKICAgIH0KICB9Cn0K"},{"version":3,"sources":["memoryForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"memoryForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-overlay >\n    <v-card\n      :loading=\"loading\"\n      elevation=\"2\"\n      opacity=\"0\"\n      light\n      class=\"mx-auto my-12\">\n      \n        <div class=\"d-flex justify-end\"><v-btn icon @click=\"close()\"><v-icon center>mdi-close-circle</v-icon></v-btn></div>\n      \n\n      <v-card-title color=\"primary\">Add your story to the curve</v-card-title>\n      <v-card-text v-if=\"status\">\n        <v-alert\n          border=\"left\"\n          colored-border\n          color=\"primary\"\n          elevation=\"2\">\n          {{status}}\n        </v-alert>\n        <v-btn block color=\"primary\" outlined @click=\"close()\">Cool!</v-btn>\n      </v-card-text>\n      <v-card-text v-else>\n       <!-- <p>What did you lorem ipsum sed dolor sit amet?</p>-->\n        <v-form>\n          <v-text-field\n            v-model=\"name\"\n            label=\"Name (optional)\"\n          ></v-text-field>\n          <v-text-field\n            v-model=\"date\"\n            label=\"Date\"\n            readonly\n          ></v-text-field>\n          <v-textarea\n            v-model=\"memory\" \n            label=\"Your Memory\"\n          ></v-textarea>\n          <v-btn block color=\"primary\" outlined @click=\"sendMemory\">Send</v-btn>\n        </v-form>\n      </v-card-text>\n    <!--<v-date-picker v-model=\"picker\"></v-date-picker>-->\n    </v-card>\n  </v-overlay>\n</template>\n\n<script>\nimport MemoryService from '@/services/memoryService'\nexport default {\n  data () {\n    return {\n      memory: 'abc123',\n      status: false,\n      loading: false,\n      name: '',\n    }\n  },\n\n  props: {\n    country: String,\n    date: String,\n  },\n\n  methods: {\n    async sendMemory () {\n      this.loading = true\n\n      let payload = {\n        comment: this.memory,\n        date: new Date(this.date),\n        name: this.name,\n        country: this.country,\n        id: null,\n      }      \n      try {\n        const response = await MemoryService.sendMemory(payload)\n        \n        if(response) this.loading=false\n        if(response.status == 200) {\n          this.status = \"Your memory has been recorded\"\n        }\n\n      } catch (err) {\n        this.status = err.response.data.error\n      }\n    },\n\n    close: function() {\n      this.status = false\n      this.$emit('close')\n      console.log(this.status)\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}