{"remainingRequest":"/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/corona-memories/client/src/components/lines.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/corona-memories/client/src/components/lines.vue","mtime":1615558231718},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFyc2VEYXRlOiBkMy51dGNQYXJzZSgiJVktJW0tJWQiKSwKICAgICAgZm9ybWF0RGF0ZTogZDMudGltZUZvcm1hdCgiJVktJW0tJWQiKSwKICAgICAgbGluZUdlbmVyYXRvcjogZDMubGluZSgpLngoZCA9PiBkLngpLnkoZCA9PiBkLnkpLC8vLmN1cnZlKGQzLmN1cnZlQmFzaXMpLAogICAgfQogIH0sCgogIHByb3BzOiB7CiAgICBkaW1lbnNpb25zOiBPYmplY3QsCiAgICBjYXNlczogQXJyYXksCiAgICBzY2FsZXM6IE9iamVjdCwKICB9LAoKICBjb21wdXRlZDogewogICAgIC8vY3JlYXRlIGxpbmUgZm9yIGNhc2VzIHRvIGJlIGRyYXduCiAgICBjYXNlTGluZTogZnVuY3Rpb24oKSB7CiAgICAgIGlmKCF0aGlzLnNjYWxlcyB8fCAhdGhpcy5jYXNlcykgcmV0dXJuIGZhbHNlCiAgICAgIGxldCBhcnIgPSB0aGlzLmNhc2VzLm1hcChjID0+IHsgCiAgICAgICAgYy54ID0gdGhpcy5zY2FsZXMueChjLmRhdGUpCiAgICAgICAgYy55ID0gdGhpcy5zY2FsZXMueShjLnZhbHVlKQogICAgICAgIHJldHVybiBjOwogICAgICB9KQogICAgICByZXR1cm4gdGhpcy5saW5lR2VuZXJhdG9yKGFycikKICAgIH0sCiAgfSwKCiAgZGlyZWN0aXZlczogeyAvL2F4aXMgY29tcHV0YXRpb24KICAgIGF4aXMoZWwsIGJpbmRpbmcpIHsKICAgICAgbGV0IGF4aXMgPSBkMy5zZWxlY3QoZWwpCiAgICAgIHN3aXRjaChiaW5kaW5nLmFyZykgewogICAgICAgIGNhc2UgIngiOgogICAgICAgICAgYXhpcy5jYWxsKGQzCiAgICAgICAgICAgIC5heGlzQm90dG9tKGJpbmRpbmcudmFsdWUueCkKICAgICAgICAgICAgLnRpY2tzKGQzLnRpbWVNb250aCkKICAgICAgICAgICAgLnRpY2tGb3JtYXQoZDMudGltZUZvcm1hdCgiJWIiKSkKICAgICAgICAgICk7CiAgICAgICAgICBheGlzLnNlbGVjdEFsbCgiLmRvbWFpbiIpLmF0dHIoInN0cm9rZSIsIm5vbmUiKQogICAgICAgICAgYXhpcy5zZWxlY3RBbGwoIi50aWNrIGxpbmUiKS5hdHRyKCJzdHJva2UiLCJub25lIikKICAgICAgICAgIGF4aXMuc2VsZWN0QWxsKCIudGljayB0ZXh0IikKICAgICAgICAgICAgLnN0eWxlKCJ0ZXh0LWFuY2hvciIsICJlbmQiKQogICAgICAgICAgICAuc3R5bGUoInRleHQtdHJhbnNmb3JtIiwgIlVQUEVSQ0FTRSIpCiAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIC4zKQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAieSI6CiAgICAgICAgICBheGlzLmNhbGwoZDMKICAgICAgICAgICAgLmF4aXNSaWdodChiaW5kaW5nLnZhbHVlLnkpCiAgICAgICAgICAgIC50aWNrU2l6ZSgtMTAwMCkKICAgICAgICAgICAgLnRpY2tzKDUpCiAgICAgICAgICApOwogICAgICAgICAgYXhpcy5zZWxlY3RBbGwoIi5kb21haW4iKS5hdHRyKCJzdHJva2UiLCJub25lIikKICAgICAgICAgIGF4aXMuc2VsZWN0QWxsKCIudGljayBsaW5lIikuYXR0cigib3BhY2l0eSIsLjA1KQogICAgICAgICAgYXhpcy5zZWxlY3RBbGwoIi50aWNrIHRleHQiKS5hdHRyKCJvcGFjaXR5IiwuMykKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["lines.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"lines.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <g>\n    <!-- Axes -->\n    <g class=\"axis xAxis\" v-axis:x=\"scales\" :transform=\"`translate(0,${dimensions.height-dimensions.top-dimensions.bottom+10})`\"></g>\n    <g class=\"axis yAxis\" v-axis:y=\"scales\" :transform=\"`translate(${dimensions.width-dimensions.right})`\"></g>\n\n    <!-- line that shows acses -->\n    <path\n      :d=\"caseLine\"\n      stroke-width=\"3\"\n      stroke-linejoin=\"round\" \n      fill=\"none\"\n      stroke=\"black\"/>\n    </g>\n</template>\n\n<script>\nimport * as d3 from 'd3'\n\nexport default {\n  data () {\n    return {\n      parseDate: d3.utcParse(\"%Y-%m-%d\"),\n      formatDate: d3.timeFormat(\"%Y-%m-%d\"),\n      lineGenerator: d3.line().x(d => d.x).y(d => d.y),//.curve(d3.curveBasis),\n    }\n  },\n\n  props: {\n    dimensions: Object,\n    cases: Array,\n    scales: Object,\n  },\n\n  computed: {\n     //create line for cases to be drawn\n    caseLine: function() {\n      if(!this.scales || !this.cases) return false\n      let arr = this.cases.map(c => { \n        c.x = this.scales.x(c.date)\n        c.y = this.scales.y(c.value)\n        return c;\n      })\n      return this.lineGenerator(arr)\n    },\n  },\n\n  directives: { //axis computation\n    axis(el, binding) {\n      let axis = d3.select(el)\n      switch(binding.arg) {\n        case \"x\":\n          axis.call(d3\n            .axisBottom(binding.value.x)\n            .ticks(d3.timeMonth)\n            .tickFormat(d3.timeFormat(\"%b\"))\n          );\n          axis.selectAll(\".domain\").attr(\"stroke\",\"none\")\n          axis.selectAll(\".tick line\").attr(\"stroke\",\"none\")\n          axis.selectAll(\".tick text\")\n            .style(\"text-anchor\", \"end\")\n            .style(\"text-transform\", \"UPPERCASE\")\n            .style(\"opacity\", .3)\n          break;\n        case \"y\":\n          axis.call(d3\n            .axisRight(binding.value.y)\n            .tickSize(-1000)\n            .ticks(5)\n          );\n          axis.selectAll(\".domain\").attr(\"stroke\",\"none\")\n          axis.selectAll(\".tick line\").attr(\"opacity\",.05)\n          axis.selectAll(\".tick text\").attr(\"opacity\",.3)\n          break;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}