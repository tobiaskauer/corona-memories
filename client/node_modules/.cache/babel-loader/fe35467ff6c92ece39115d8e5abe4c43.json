{"remainingRequest":"/Users/tk/GitHub/corona-memories/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/corona-memories/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tk/GitHub/corona-memories/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/corona-memories/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/corona-memories/src/App.vue","mtime":1613550669534},{"path":"/Users/tk/GitHub/corona-memories/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tk/GitHub/corona-memories/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5mcm9tLWVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovL2ltcG9ydCB2aXMgZnJvbSAnLi9jb21wb25lbnRzL3ZpcycKaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRDb3VudHJ5OiAnR2VybWFueScsCiAgICAgIG1vdW50ZWQ6IGZhbHNlLAogICAgICBvcGFjaXR5OiAuNywKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMCwKICAgICAgbWFyZ2luOiB7CiAgICAgICAgdG9wOiA1MCwKICAgICAgICByaWdodDogNTAsCiAgICAgICAgYm90dG9tOiA1MCwKICAgICAgICBsZWZ0OiA1MAogICAgICB9LAogICAgICBtZXRyaWM6ICdyZWxhdGl2ZScsCiAgICAgIGNzdjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzY2FsZXM6IGZ1bmN0aW9uIHNjYWxlcygpIHsKICAgICAgaWYgKCF0aGlzLmNzdikgcmV0dXJuIG51bGw7CiAgICAgIHZhciB5RG9tYWluID0gWzAsIDIwMF07IC8vZDMubWF4KHRoaXMuY3N2LCBkPT4rZFt0aGlzLm1ldHJpY10pXQoKICAgICAgdmFyIHhEb21haW4gPSBkMy5leHRlbnQodGhpcy5jc3YsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuZGF0ZTsKICAgICAgfSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogZDMuc2NhbGVUaW1lKCkuZG9tYWluKHhEb21haW4pLnJhbmdlKFt0aGlzLm1hcmdpbi5sZWZ0LCB0aGlzLndpZHRoIC0gdGhpcy5tYXJnaW4ubGVmdCAtIHRoaXMubWFyZ2luLnJpZ2h0XSksCiAgICAgICAgeTogZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oeURvbWFpbikucmFuZ2UoW3RoaXMuaGVpZ2h0IC0gdGhpcy5tYXJnaW4uYm90dG9tIC0gdGhpcy5tYXJnaW4udG9wLCB0aGlzLm1hcmdpbi50b3BdKQogICAgICB9OwogICAgfSwKICAgIHJlYWN0aW9uczogZnVuY3Rpb24gcmVhY3Rpb25zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNvdW50cmllcykgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgZm9ybWF0VGltZSA9IGQzLnRpbWVGb3JtYXQoIiVtLyVkLyV5Iik7CiAgICAgIHZhciByZWFjdGlvbkFyciA9IFtdOyAvL2NyZWF0ZSBzYW1wbGUgcmVhY3Rpb25zCgogICAgICBPYmplY3Qua2V5cyh0aGlzLmNvdW50cmllcykuZm9yRWFjaChmdW5jdGlvbiAoY291bnRyeSkgewogICAgICAgIGQzLnJhbmdlKDMwMCkuZm9yRWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZGF0ZSA9IF90aGlzLmdldFJhbmRvbURhdGUoX3RoaXMuc2NhbGVzLnguZG9tYWluKCkpOwoKICAgICAgICAgIHJlYWN0aW9uQXJyLnB1c2goewogICAgICAgICAgICBkYXRlOiBkYXRlLAogICAgICAgICAgICB2YWx1ZTogX3RoaXMuY291bnRyaWVzW2NvdW50cnldLmNhc2VzLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0VGltZShjLmRhdGUpID09IGZvcm1hdFRpbWUoZGF0ZSk7CiAgICAgICAgICAgIH0pW190aGlzLm1ldHJpY10sCiAgICAgICAgICAgIGNvbW1lbnQ6ICJmb29iYXIiLAogICAgICAgICAgICB3ZWlnaHQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMgKyAyKSwKICAgICAgICAgICAgY291bnRyeTogY291bnRyeQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB2YXIgZm9yY2UgPSBkMy5mb3JjZVNpbXVsYXRpb24ocmVhY3Rpb25BcnIpLmZvcmNlKCdmb3JjZVgnLCBkMy5mb3JjZVgoZnVuY3Rpb24gKHJlYWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnNjYWxlcy54KHJlYWN0aW9uLmRhdGUpOwogICAgICB9KS5zdHJlbmd0aCguMSkpLmZvcmNlKCdmb3JjZVknLCBkMy5mb3JjZVkoZnVuY3Rpb24gKHJlYWN0aW9uLCBpKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnNjYWxlcy55KHJlYWN0aW9uLnZhbHVlKSArICgtOCArIGkgJSAyICogMTYpOwogICAgICB9KS5zdHJlbmd0aCguMSkpLmZvcmNlKCdjb2xsaWRlJywgZDMuZm9yY2VDb2xsaWRlKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQud2VpZ2h0OwogICAgICB9KSk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlYWN0aW9uQXJyLmxlbmd0aDsgKytpKSB7CiAgICAgICAgZm9yY2UudGljaygpOwogICAgICB9CgogICAgICByZXR1cm4gZm9yY2Uubm9kZXMoKTsKICAgIH0sCiAgICBjb3VudHJpZXM6IGZ1bmN0aW9uIGNvdW50cmllcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuY3N2IHx8ICF0aGlzLnNjYWxlcykgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgbGluZUdlbmVyYXRvciA9IGQzLmxpbmUoKS5jdXJ2ZShkMy5jdXJ2ZUJhc2lzKS54KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5zY2FsZXMueChkLmRhdGUpOwogICAgICB9KS55KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5zY2FsZXMueShkW190aGlzMi5tZXRyaWNdKTsKICAgICAgfSk7CiAgICAgIHZhciBjb3VudHJpZXNNYXAgPSBkMy5ncm91cCh0aGlzLmNzdiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5jb3VudHJ5OwogICAgICB9KTsKICAgICAgdmFyIGNvdW50cmllc09iaiA9IE9iamVjdC5mcm9tRW50cmllcyhjb3VudHJpZXNNYXApOwogICAgICBPYmplY3Qua2V5cyhjb3VudHJpZXNPYmopLm1hcChmdW5jdGlvbiAoa2V5LCBpKSB7CiAgICAgICAgY291bnRyaWVzT2JqW2tleV0gPSB7CiAgICAgICAgICBpZDogaSwKICAgICAgICAgIGNhc2VzOiBjb3VudHJpZXNPYmpba2V5XSwKICAgICAgICAgIGxpbmU6IGxpbmVHZW5lcmF0b3IoY291bnRyaWVzT2JqW2tleV0pLAogICAgICAgICAgbmFtZToga2V5CiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHJldHVybiBjb3VudHJpZXNPYmo7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgLy90aGlzLiRzdG9yZS5jb21taXQoImNhbGxBUEkiLHtmb286ICdiYXInfSkKICAgIHZhciBwYXJzZURhdGUgPSBkMy51dGNQYXJzZSgiJW0vJWQvJXkiKTsKICAgIGQzLmNzdignZGF0YS5jc3YnKS50aGVuKGZ1bmN0aW9uIChkKSB7CiAgICAgIF90aGlzMy5jc3YgPSBkLm1hcChmdW5jdGlvbiAocm93KSB7CiAgICAgICAgcm93Lm5hbWUgPSByb3cuY291bnRyeTsKICAgICAgICByb3cuZGF0ZSA9IHBhcnNlRGF0ZShyb3cuZGF0ZSk7CiAgICAgICAgcmV0dXJuIHJvdzsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuY291bnRyeSA9PSAiR2VybWFueSI7CiAgICAgIH0pOwogICAgfSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5yZXNpemUpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM0LnJlc2l6ZSgpOwoKICAgICAgX3RoaXM0Lm1vdW50ZWQgPSB0cnVlOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRSYW5kb21EYXRlOiBmdW5jdGlvbiBnZXRSYW5kb21EYXRlKGV4dGVudCkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGV4dGVudFswXS5nZXRUaW1lKCkgKyBNYXRoLnJhbmRvbSgpICogKGV4dGVudFsxXS5nZXRUaW1lKCkgLSBleHRlbnRbMF0uZ2V0VGltZSgpKSk7CiAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCk7CiAgICAgIHJldHVybiBkYXRlOwogICAgfSwKICAgIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKCkgewogICAgICB0aGlzLndpZHRoID0gdGhpcy4kcmVmcy5jb250YWluZXIub2Zmc2V0V2lkdGg7CiAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgfSwKICAgIGhvdmVyOiBmdW5jdGlvbiBob3ZlcihyZWFjdGlvbiwgZXZlbnQpIHsKICAgICAgdmFyIHIgPSAxMDsKICAgICAgdmFyIG9wYWNpdHkgPSAxOwoKICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gJ21vdXNlb3V0JykgewogICAgICAgIHIgPSByZWFjdGlvbi53ZWlnaHQ7CiAgICAgICAgb3BhY2l0eSA9IHRoaXMub3BhY2l0eTsKICAgICAgfQoKICAgICAgZDMuc2VsZWN0KGV2ZW50LnRhcmdldCkudHJhbnNpdGlvbigiNTAiKS5hdHRyKCJyIiwgcikuYXR0cigib3BhY2l0eSIsIG9wYWNpdHkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div id=\"app\" class=\"container-fluid\" ref=\"container\">\n\n      <svg :width=\"width\" :height=\"height\" v-if=\"mounted\">\n        <defs>\n          <filter id=\"f0\"><feGaussianBlur in=\"SourceGraphic\" :stdDeviation=\"1\" /></filter>\n          <filter id=\"f1\"><feGaussianBlur in=\"SourceGraphic\" :stdDeviation=\"3\" /></filter>\n          <filter id=\"f1\"><feGaussianBlur in=\"SourceGraphic\" :stdDeviation=\"5\" /></filter>\n        </defs>\n\n        <g class=\"lines\" v-if=\"countries\">\n          <path\n            v-for=\"country,i in countries\"\n            :key=\"i\"\n            :d=\"country.line\"\n            stroke-width=\"2\"\n            :class=\"(country.name == currentCountry) ? 'active' : 'hidden-'+(country.id%3)\" />\n        </g>\n\n        <g class=\"reactions\" v-if=\"reactions\" transform=\"translate(0,0)\">\n          <circle\n            v-for=\"reaction, j in reactions\"\n            :key=\"j\" :cx=\"reaction.x\"\n            :cy=\"reaction.y\"\n            :opacity=\"opacity\"\n            :class=\"(reaction.country == currentCountry) ? 'active' : 'hidden-1'\"\n            :r=\"reaction.weight\"\n            fill=\"#FA5E2D\"\n            @mouseover=\"hover(reaction,$event)\"\n            @mouseout=\"hover(reaction,$event)\" />\n        </g>\n      </svg>\n    </div>\n  </div>\n</template>\n\n<script>\n//import vis from './components/vis'\nimport * as d3 from 'd3'\n\nexport default {\n  name: 'App',\n  components: {\n\n  },\n\n  data () {\n    return {\n      currentCountry: 'Germany',\n      mounted: false,\n      opacity: .7,\n      width: 0,\n      height: 0,\n      margin: {top: 50, right: 50, bottom: 50, left: 50},\n      metric: 'relative',\n      csv: null,\n    }\n  },\n\n  computed: {\n    scales: function() {\n      if(!this.csv) return null\n      let yDomain = [0,200]//d3.max(this.csv, d=>+d[this.metric])]\n      let xDomain = d3.extent(this.csv, d=>d.date)\n      return {\n        x: d3.scaleTime().domain(xDomain).range([this.margin.left,this.width-this.margin.left-this.margin.right]),\n        y: d3.scaleLinear().domain(yDomain).range([this.height-this.margin.bottom-this.margin.top,this.margin.top])\n      }\n    },\n\n    reactions: function(){\n      if(!this.countries) return false\n\n      let formatTime = d3.timeFormat(\"%m/%d/%y\")\n      let reactionArr = [] //create sample reactions\n      Object.keys(this.countries).forEach(country => {\n        d3.range(300).forEach(() => {\n          let date = this.getRandomDate(this.scales.x.domain())\n          reactionArr.push({\n            date: date,\n            value: this.countries[country].cases.find(c => formatTime(c.date) == formatTime(date))[this.metric],\n            comment: \"foobar\",\n            weight: Math.floor(Math.random()*3+2),\n            country: country,\n          })\n        })\n      })\n\n      let force = d3.forceSimulation(reactionArr)\n       .force('forceX', d3.forceX(reaction => this.scales.x(reaction.date)).strength(.1))\n       .force('forceY', d3.forceY((reaction,i) => this.scales.y(reaction.value) + (-8 + (i%2)*16)).strength(.1))\n       .force('collide', d3.forceCollide(d => d.weight))\n     for (let i = 0; i < reactionArr.length; ++i) {\n       force.tick()\n     }\n     return force.nodes()\n\n    },\n\n    countries: function() {\n      if(!this.csv || !this.scales) return false\n\n      const lineGenerator = d3.line()\n        .curve(d3.curveBasis)\n        .x(d => this.scales.x(d.date))\n        .y(d => this.scales.y(d[this.metric]))\n\n     let countriesMap = d3.group(this.csv, d => d.country)\n     let countriesObj = Object.fromEntries(countriesMap)\n     Object.keys(countriesObj).map((key,i) => {\n       countriesObj[key] = {\n         id: i,\n         cases: countriesObj[key],\n         line: lineGenerator(countriesObj[key]),\n         name: key\n       }\n     })\n     return countriesObj\n    },\n  },\n\n  created() {\n    //this.$store.commit(\"callAPI\",{foo: 'bar'})\n    const parseDate = d3.utcParse(\"%m/%d/%y\")\n    d3.csv('data.csv').then(d => {\n      this.csv = d.map(row => {\n        row.name = row.country\n        row.date = parseDate(row.date)\n        return row\n      })\n      .filter(d=> d.country == \"Germany\")\n    })\n\n    window.addEventListener(\"resize\", this.resize);\n  },\n\n  mounted() {\n\n    this.$nextTick(() => {\n      this.resize()\n      this.mounted = true;\n    })\n  },\n\n  methods: {\n    getRandomDate: function(extent) {\n      let date = new Date(extent[0].getTime() + Math.random() * (extent[1].getTime() - extent[0].getTime()))\n      date.setHours(0,0,0)\n      return date\n    },\n\n    resize: function() {\n      this.width = this.$refs.container.offsetWidth\n      this.height = window.innerHeight\n    },\n\n    hover: function(reaction,event) {\n      let r = 10\n      let opacity = 1\n      if(event.type == 'mouseout') {\n        r = reaction.weight\n        opacity = this.opacity\n      }\n      d3.select(event.target).transition(\"50\").attr(\"r\",r).attr(\"opacity\",opacity)\n    }\n  }\n}\n</script>\n\n<style>\n@import url('https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css');\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  //background: radial-gradient(83.17% 83.17% at 18.37% 16.83%, #20CB86 0%, #15B5B5 100%);/* Rectangle 237 */\n  //background: linear-gradient(121.09deg, #64033D 16.58%, #100530 82.74%);\n}\n\n#app {\n  min-height: 100%;\n  height: 100%\n}\n\n.hidden-0, .hidden-1, .hidden-2 {\n  fill-opacity: .2;\n  stroke-opacity: .5;\n}\n.hidden-0 {filter: url('#f0')}\n.hidden-1 {filter: url('#f1')}\n.hidden-2 {filter: url('#f2')}\n\npath {\n  fill: none;\n  stroke: black;\n}\n</style>\n"],"sourceRoot":"src"}]}