{"remainingRequest":"/Users/tk/GitHub/corona-memories/client/node_modules/thread-loader/dist/cjs.js!/Users/tk/GitHub/corona-memories/client/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/corona-memories/client/src/components/memoryForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/corona-memories/client/src/components/memoryForm.vue","mtime":1614177528614},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3RrL0dpdEh1Yi9jb3JvbmEtbWVtb3JpZXMvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1lbW9yeVNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9tZW1vcnlTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZW1vcnk6ICdhYmMxMjMnLAogICAgICBzdGF0dXM6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBjb3VudHJ5OiBTdHJpbmcsCiAgICBkYXRlOiBTdHJpbmcKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbmRNZW1vcnk6IGZ1bmN0aW9uIHNlbmRNZW1vcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXlsb2FkLCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IF90aGlzLm1lbW9yeSwKICAgICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoX3RoaXMuZGF0ZSksCiAgICAgICAgICAgICAgICAgIGNvdW50cnk6IF90aGlzLmNvdW50cnksCiAgICAgICAgICAgICAgICAgIGlkOiBudWxsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBNZW1vcnlTZXJ2aWNlLnNlbmRNZW1vcnkocGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9ICJZb3VyIG1lbW9yeSBoYXMgYmVlbiByZWNvcmRlZCI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5lcnJvcjsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0dXMpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["memoryForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,OAAA,aAAA,MAAA,0BAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,QADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,MADA;AAEA,IAAA,IAAA,EAAA;AAFA,GATA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AAEA,gBAAA,OAHA,GAGA;AACA,kBAAA,OAAA,EAAA,KAAA,CAAA,MADA;AAEA,kBAAA,IAAA,EAAA,IAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAFA;AAGA,kBAAA,OAAA,EAAA,KAAA,CAAA,OAHA;AAIA,kBAAA,EAAA,EAAA;AAJA,iBAHA;AAAA;AAAA;AAAA,uBAUA,aAAA,CAAA,UAAA,CAAA,OAAA,CAVA;;AAAA;AAUA,gBAAA,QAVA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,oBAAA,QAAA,EAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,oBAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,GAAA,+BAAA;AACA;;AAfA;AAAA;;AAAA;AAAA;AAAA;AAkBA,gBAAA,KAAA,CAAA,MAAA,GAAA,YAAA,QAAA,CAAA,IAAA,CAAA,KAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA,KArBA;AAuBA,IAAA,KAAA,EAAA,iBAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,OAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA;AACA;AA3BA;AAdA,CAAA","sourcesContent":["<template>\n  <v-overlay >\n    <v-card\n      :loading=\"loading\"\n      elevation=\"2\"\n      opacity=\"0\"\n      light\n      class=\"mx-auto my-12\">\n      <!--<v-btn icon>\n        <v-icon>mdi-close-circle</v-icon>\n      </v-btn>-->\n      <template slot=\"progress\">\n      <v-progress-linear\n        color=\"deep-purple\"\n        height=\"10\"\n        indeterminate\n      ></v-progress-linear>\n    </template>\n      <v-card-title>Share a memory</v-card-title>\n      <v-card-text v-if=\"status\">\n        <v-alert\n          border=\"left\"\n          colored-border\n          color=\"primary\"\n          elevation=\"2\">\n          {{status}}\n        </v-alert>\n        <v-btn block color=\"primary\" outlined @click=\"close()\">Cool!</v-btn>\n      </v-card-text>\n      <v-card-text v-else>\n        <p>What did you lorem ipsum sed dolor sit amet?</p>\n        <v-form>\n          <v-text-field\n            v-model=\"date\"\n            label=\"Date\"\n            readonly\n          ></v-text-field>\n          <v-textarea\n            v-model=\"memory\" \n            label=\"Your Memory\"\n          ></v-textarea>\n          <v-btn block color=\"primary\" outlined @click=\"sendMemory\">Send</v-btn>\n        </v-form>\n        <div style=\"text-align: center; font-size:.8em; text-decoration:underline; cursor: pointer;\" @click=\"close()\">Cancel</div>\n      </v-card-text>\n    <!--<v-date-picker v-model=\"picker\"></v-date-picker>-->\n    </v-card>\n  </v-overlay>\n</template>\n\n<script>\nimport MemoryService from '@/services/memoryService'\nexport default {\n  data () {\n    return {\n      memory: 'abc123',\n      status: false,\n      loading: false,\n    }\n  },\n\n  props: {\n    country: String,\n    date: String,\n  },\n\n  methods: {\n    async sendMemory () {\n      this.loading = true\n\n      let payload = {\n        comment: this.memory,\n        date: new Date(this.date),\n        country: this.country,\n        id: null,\n      }      \n      try {\n        const response = await MemoryService.sendMemory(payload)\n        console.log(response)\n        if(response) this.loading=false\n        if(response.status == 200) {\n          this.status = \"Your memory has been recorded\"\n        }\n\n      } catch (err) {\n        this.status = err.response.data.error\n      }\n    },\n\n    close: function() {\n      this.status = false\n      this.$emit('close')\n      console.log(this.status)\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/components"}]}