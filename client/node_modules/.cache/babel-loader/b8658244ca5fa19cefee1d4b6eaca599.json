{"remainingRequest":"/Users/tk/GitHub/corona-memories/client/node_modules/thread-loader/dist/cjs.js!/Users/tk/GitHub/corona-memories/client/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/corona-memories/client/src/components/lines.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/corona-memories/client/src/components/lines.vue","mtime":1615558231718},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/corona-memories/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhcnNlRGF0ZTogZDMudXRjUGFyc2UoIiVZLSVtLSVkIiksCiAgICAgIGZvcm1hdERhdGU6IGQzLnRpbWVGb3JtYXQoIiVZLSVtLSVkIiksCiAgICAgIGxpbmVHZW5lcmF0b3I6IGQzLmxpbmUoKS54KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQueDsKICAgICAgfSkueShmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnk7CiAgICAgIH0pIC8vLmN1cnZlKGQzLmN1cnZlQmFzaXMpLAoKICAgIH07CiAgfSwKICBwcm9wczogewogICAgZGltZW5zaW9uczogT2JqZWN0LAogICAgY2FzZXM6IEFycmF5LAogICAgc2NhbGVzOiBPYmplY3QKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvL2NyZWF0ZSBsaW5lIGZvciBjYXNlcyB0byBiZSBkcmF3bgogICAgY2FzZUxpbmU6IGZ1bmN0aW9uIGNhc2VMaW5lKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnNjYWxlcyB8fCAhdGhpcy5jYXNlcykgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgYXJyID0gdGhpcy5jYXNlcy5tYXAoZnVuY3Rpb24gKGMpIHsKICAgICAgICBjLnggPSBfdGhpcy5zY2FsZXMueChjLmRhdGUpOwogICAgICAgIGMueSA9IF90aGlzLnNjYWxlcy55KGMudmFsdWUpOwogICAgICAgIHJldHVybiBjOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMubGluZUdlbmVyYXRvcihhcnIpOwogICAgfQogIH0sCiAgZGlyZWN0aXZlczogewogICAgLy9heGlzIGNvbXB1dGF0aW9uCiAgICBheGlzOiBmdW5jdGlvbiBheGlzKGVsLCBiaW5kaW5nKSB7CiAgICAgIHZhciBheGlzID0gZDMuc2VsZWN0KGVsKTsKCiAgICAgIHN3aXRjaCAoYmluZGluZy5hcmcpIHsKICAgICAgICBjYXNlICJ4IjoKICAgICAgICAgIGF4aXMuY2FsbChkMy5heGlzQm90dG9tKGJpbmRpbmcudmFsdWUueCkudGlja3MoZDMudGltZU1vbnRoKS50aWNrRm9ybWF0KGQzLnRpbWVGb3JtYXQoIiViIikpKTsKICAgICAgICAgIGF4aXMuc2VsZWN0QWxsKCIuZG9tYWluIikuYXR0cigic3Ryb2tlIiwgIm5vbmUiKTsKICAgICAgICAgIGF4aXMuc2VsZWN0QWxsKCIudGljayBsaW5lIikuYXR0cigic3Ryb2tlIiwgIm5vbmUiKTsKICAgICAgICAgIGF4aXMuc2VsZWN0QWxsKCIudGljayB0ZXh0Iikuc3R5bGUoInRleHQtYW5jaG9yIiwgImVuZCIpLnN0eWxlKCJ0ZXh0LXRyYW5zZm9ybSIsICJVUFBFUkNBU0UiKS5zdHlsZSgib3BhY2l0eSIsIC4zKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ5IjoKICAgICAgICAgIGF4aXMuY2FsbChkMy5heGlzUmlnaHQoYmluZGluZy52YWx1ZS55KS50aWNrU2l6ZSgtMTAwMCkudGlja3MoNSkpOwogICAgICAgICAgYXhpcy5zZWxlY3RBbGwoIi5kb21haW4iKS5hdHRyKCJzdHJva2UiLCAibm9uZSIpOwogICAgICAgICAgYXhpcy5zZWxlY3RBbGwoIi50aWNrIGxpbmUiKS5hdHRyKCJvcGFjaXR5IiwgLjA1KTsKICAgICAgICAgIGF4aXMuc2VsZWN0QWxsKCIudGljayB0ZXh0IikuYXR0cigib3BhY2l0eSIsIC4zKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["lines.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA,OAAA,KAAA,EAAA,MAAA,IAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EAAA,CAAA,QAAA,CAAA,UAAA,CADA;AAEA,MAAA,UAAA,EAAA,EAAA,CAAA,UAAA,CAAA,UAAA,CAFA;AAGA,MAAA,aAAA,EAAA,EAAA,CAAA,IAAA,GAAA,CAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA;AAAA,OAAA,EAAA,CAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA;AAAA,OAAA,CAHA,CAGA;;AAHA,KAAA;AAKA,GAPA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA,MADA;AAEA,IAAA,KAAA,EAAA,KAFA;AAGA,IAAA,MAAA,EAAA;AAHA,GATA;AAeA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AACA,UAAA,CAAA,KAAA,MAAA,IAAA,CAAA,KAAA,KAAA,EAAA,OAAA,KAAA;AACA,UAAA,GAAA,GAAA,KAAA,KAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,CAAA,CAAA,CAAA,GAAA,KAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA;AACA,QAAA,CAAA,CAAA,CAAA,GAAA,KAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA;AACA,eAAA,CAAA;AACA,OAJA,CAAA;AAKA,aAAA,KAAA,aAAA,CAAA,GAAA,CAAA;AACA;AAVA,GAfA;AA4BA,EAAA,UAAA,EAAA;AAAA;AACA,IAAA,IADA,gBACA,EADA,EACA,OADA,EACA;AACA,UAAA,IAAA,GAAA,EAAA,CAAA,MAAA,CAAA,EAAA,CAAA;;AACA,cAAA,OAAA,CAAA,GAAA;AACA,aAAA,GAAA;AACA,UAAA,IAAA,CAAA,IAAA,CAAA,EAAA,CACA,UADA,CACA,OAAA,CAAA,KAAA,CAAA,CADA,EAEA,KAFA,CAEA,EAAA,CAAA,SAFA,EAGA,UAHA,CAGA,EAAA,CAAA,UAAA,CAAA,IAAA,CAHA,CAAA;AAKA,UAAA,IAAA,CAAA,SAAA,CAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;AACA,UAAA,IAAA,CAAA,SAAA,CAAA,YAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;AACA,UAAA,IAAA,CAAA,SAAA,CAAA,YAAA,EACA,KADA,CACA,aADA,EACA,KADA,EAEA,KAFA,CAEA,gBAFA,EAEA,WAFA,EAGA,KAHA,CAGA,SAHA,EAGA,EAHA;AAIA;;AACA,aAAA,GAAA;AACA,UAAA,IAAA,CAAA,IAAA,CAAA,EAAA,CACA,SADA,CACA,OAAA,CAAA,KAAA,CAAA,CADA,EAEA,QAFA,CAEA,CAAA,IAFA,EAGA,KAHA,CAGA,CAHA,CAAA;AAKA,UAAA,IAAA,CAAA,SAAA,CAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;AACA,UAAA,IAAA,CAAA,SAAA,CAAA,YAAA,EAAA,IAAA,CAAA,SAAA,EAAA,GAAA;AACA,UAAA,IAAA,CAAA,SAAA,CAAA,YAAA,EAAA,IAAA,CAAA,SAAA,EAAA,EAAA;AACA;AAvBA;AAyBA;AA5BA;AA5BA,CAAA","sourcesContent":["<template>\n  <g>\n    <!-- Axes -->\n    <g class=\"axis xAxis\" v-axis:x=\"scales\" :transform=\"`translate(0,${dimensions.height-dimensions.top-dimensions.bottom+10})`\"></g>\n    <g class=\"axis yAxis\" v-axis:y=\"scales\" :transform=\"`translate(${dimensions.width-dimensions.right})`\"></g>\n\n    <!-- line that shows acses -->\n    <path\n      :d=\"caseLine\"\n      stroke-width=\"3\"\n      stroke-linejoin=\"round\" \n      fill=\"none\"\n      stroke=\"black\"/>\n    </g>\n</template>\n\n<script>\nimport * as d3 from 'd3'\n\nexport default {\n  data () {\n    return {\n      parseDate: d3.utcParse(\"%Y-%m-%d\"),\n      formatDate: d3.timeFormat(\"%Y-%m-%d\"),\n      lineGenerator: d3.line().x(d => d.x).y(d => d.y),//.curve(d3.curveBasis),\n    }\n  },\n\n  props: {\n    dimensions: Object,\n    cases: Array,\n    scales: Object,\n  },\n\n  computed: {\n     //create line for cases to be drawn\n    caseLine: function() {\n      if(!this.scales || !this.cases) return false\n      let arr = this.cases.map(c => { \n        c.x = this.scales.x(c.date)\n        c.y = this.scales.y(c.value)\n        return c;\n      })\n      return this.lineGenerator(arr)\n    },\n  },\n\n  directives: { //axis computation\n    axis(el, binding) {\n      let axis = d3.select(el)\n      switch(binding.arg) {\n        case \"x\":\n          axis.call(d3\n            .axisBottom(binding.value.x)\n            .ticks(d3.timeMonth)\n            .tickFormat(d3.timeFormat(\"%b\"))\n          );\n          axis.selectAll(\".domain\").attr(\"stroke\",\"none\")\n          axis.selectAll(\".tick line\").attr(\"stroke\",\"none\")\n          axis.selectAll(\".tick text\")\n            .style(\"text-anchor\", \"end\")\n            .style(\"text-transform\", \"UPPERCASE\")\n            .style(\"opacity\", .3)\n          break;\n        case \"y\":\n          axis.call(d3\n            .axisRight(binding.value.y)\n            .tickSize(-1000)\n            .ticks(5)\n          );\n          axis.selectAll(\".domain\").attr(\"stroke\",\"none\")\n          axis.selectAll(\".tick line\").attr(\"opacity\",.05)\n          axis.selectAll(\".tick text\").attr(\"opacity\",.3)\n          break;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components"}]}